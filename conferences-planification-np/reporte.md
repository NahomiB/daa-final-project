# Problema "NP Completo"

## Problema de Planificación de Clases

Te han pedido organizar un seminario de nivel introductorio que se llevará a cabo una vez por semana durante el próximo semestre. El plan es que la primera parte del semestre consista en una serie de conferencias de invitados externos, y que la segunda parte del semestre se dedique a una serie de proyectos prácticos que realizarán los estudiantes.

Hay n opciones de conferencistas en total, y en la semana número $i$ (para $i = 1, 2, ..., k$) un subconjunto $L_i$ de estos conferencistas está disponible para dar una conferencia. Por otro lado, cada proyecto requiere que los estudiantes hayan visto ciertos materiales previos para poder completarlo con éxito. En particular, para cada proyecto j (para $j = 1, 2, ..., p$), hay un subconjunto $P_j$ de conferencistas relevantes, de manera que los estudiantes deben haber asistido a una conferencia de al menos uno de los conferencistas del conjunto  $P_j$ para poder realizar el proyecto.

Dado estos conjuntos, ¿puedes seleccionar exactamente un conferencista para cada una de las primeras $k$ semanas del seminario, de manera que solo elijas conferencistas que estén disponibles en su semana designada, y para que, para cada proyecto $j$, los estudiantes hayan asistido a una conferencia de al menos uno de los conferencistas del conjunto relevante  $P_j$?

## Demostración

El problema es en NP, ya que, dada una secuencia de ponentes, podemos verificar (a) que todos los ponentes están disponibles en las semanas en que están programados, y (b) que para cada proyecto, al menos uno de los ponentes relevantes ha sido programado.

En la planificación de conferencias, al igual que en muchos problemas de satisfacción de restricciones, podemos identificar dos fases conceptuales. En la primera fase, se seleccionan algunos ponentes de un conjunto de opciones, cerrando la puerta a otros; en la segunda fase, se determina si estas elecciones han dado lugar a una solución válida.

Específicamente, en el caso de la planificación de conferencias, la primera fase consiste en seleccionar un ponente para cada semana, mientras que la segunda fase implica verificar que se ha seleccionado un ponente relevante para cada proyecto. Esta estructura conceptual es característica de muchos problemas NP-completos, lo que nos permite buscar reducciones plausibles. A continuación, describiremos dos reducciones: primero de 3-SAT y luego de Vertex Cover. Ambas son suficientes por sí solas para demostrar la NP-completitud.

El problema 3-SAT es un caso canónico con la estructura de dos fases mencionada. Primero, se evalúan las variables, asignando a cada una un valor de verdadero o falso; luego, se revisan las cláusulas para comprobar si las elecciones realizadas las satisfacen. Este paralelismo con la planificación de conferencias sugiere una reducción natural que establece que 3\text{-SAT} \leq_P \text{Planificación de Conferencias}. En esta organización, la elección de los conferenciantes representa la asignación de valores a las variables, y la viabilidad de los proyectos corresponde a la satisfacción de las cláusulas.

Más concretamente, supongamos que se nos da una instancia de 3-SAT que consiste en cláusulas $C_1, ..., C_k$ sobre las variables $x_1, x_2, ..., x_n$. Construimos una instancia de planificación de conferencias de la siguiente manera. Para cada variable $x_i$, creamos dos conferenciantes $z_i$ y $z'_i$ que corresponderán a $x_i$ y su negación. Comenzamos con $n$ semanas de conferencias; en la semana $i$, los únicos dos conferenciantes disponibles son $z_i$ y $z'_i$. Luego hay una secuencia de $k$ proyectos; para el proyecto $j$, el conjunto de conferenciantes relevantes  $P_j$ consiste en los tres conferenciantes correspondientes a los términos de la cláusula $C_j$. Ahora, si hay una asignación satisfactoria $ν$ para la instancia de 3-SAT, entonces en la semana $i$ elegimos el conferenciante entre $z_i$, $z'_i$ que corresponde al valor asignado a $x_i$ por $ν$; en este caso, seleccionaremos al menos un ponente de cada conjunto relevante $P_j$. Inversamente, si encontramos una manera de elegir ponentes de tal manera que haya al menos uno de cada conjunto relevante, entonces podemos establecer las variables $x_i$ de la siguiente manera: $x_i$se establece en 1 si se elige zi, y se establece en 0 si se elige $z'_i$. De esta manera, al menos uno de los tres variables en cada cláusula $C_j$ se establece de manera que la satisface, y por lo tanto, esta es una asignación satisfactoria. Esto concluye la reducción y su prueba de correctitud.

De manera similar, la intuición detrás de la planificación de conferencias conduce a una reducción de Vertex Cover, que también presenta una estructura de dos fases: primero se selecciona un conjunto de $k$ nodos del grafo de entrada, y luego se verifica que estas elecciones cubren todas las aristas.

Dada una entrada a Vertex Cover, que consiste en un grafo $G = (V, E)$ y un número $k$, creamos un conferenciante $z_v$ para cada nodo v. Establecemos $l = k$, y definimos $L1 = L_2 = ... = L_k = {z_v : v ∈ V}$. En otras palabras, durante las primeras $k$ semanas, todos los conferenciantes están disponibles. Después de esto, creamos un proyecto $j$ para cada arista $e_j = (v, w)$, con conjunto $P_j = {z_v, z_w}$.

Ahora, si existe un Vertex Cover $S$ de como máximo $k$ nodos, entonces consideremos el conjunto de conferenciantes $Z_S = {z_v : v ∈ S}$. Para cada proyecto $P_j$, al menos uno de los conferenciantes relevantes pertenece a $Z_S$, ya que $S$ cubre todas las aristas en $G$. Además, podemos programar todos los conferenciantes en $Z_S$ durante las primeras $k$ semanas. Por lo tanto, se sigue que hay una solución factible a la instancia de planificación de conferencias.

Inversamente, supongamos que hay una solución factible a la instancia de planificación de conferencias, y dejemos que $T$ sea el conjunto de todos los conferenciantes que hablan en las primeras $k$ semanas. Sea $X$ el conjunto de nodos en $G$ que corresponden a los conferenciantes en $T$. Para cada proyecto $P_j$, al menos uno de los dos conferenciantes relevantes aparece en $t$, y por lo tanto, al menos uno de los extremos de cada arista $e_j$ está en el conjunto $X$. Así, $X$ es una cubierta de vértices con como máximo $k$ nodos.

Esto concluye la prueba de que Vertex Cover se reduce a Planificación de Conferencias en tiempo polinómico.
